<!-- <div
  class="text-2xl text-white min-h-[90vh] bg-black p-20 pb-30 flex flex-col gap-10"
>
  <div class="ml-[15vw] flex flex-col gap-5">
    <h1
      class="font-bold text-transparent w-fit text-6xl bg-gradient-to-r from-cyan-400 to-fuchsia-400 bg-clip-text"
    >
      Hi, {{ user.name.split(" ")[0] }}
    </h1>
    <h2 class="text-2xl">Welcome to your dashboard!</h2>
  </div>
  <h2 class="text-white font-semibold text-2xl mb-4">Your Projects</h2>
  <div class="grid grid-cols-3 gap-6 items-center">
    
    <div
      class="bg-white rounded-lg h-40 p-4 flex items-center shadow-md justify-center font-bold text-xl cursor-pointer text-black"
      (click)="createProject()"
    >
      + New Project
    </div>

    @for (project of UserProjects; track project.deploy_id) {
    <app-card [project]="project">
      <h3 class="font-semibold">{{ project.project_name }}</h3>
      <div class="flex gap-2 items-center">
        <div
          class="w-4 h-4 rounded-full"
          [ngClass]="{
            'bg-yellow-400': project.status === 'uploaded',
            'bg-orange-400': project.status === 'building',
            'bg-green-400': project.status === 'deployed',
            'bg-red-400': project.status === 'failed',
            'animate-pulse':
              project.status === 'uploaded' || project.status === 'building'
          }"
        ></div>
        <div class="text-sm -translate-y-0.5">
          @switch (project.status) { @case ('uploaded') { Uploaded } @case
          ('building') { Building... } @case ('deployed') { Deployed! } @default
          { Failed! } }
        </div>
      </div>
      <p class="text-sm text-gray-500">{{ project?.deployed_url }}</p>
      <p class="text-sm">Last commit: {{ project.last_commit_message }}</p>
      <p class="text-xs text-gray-400">
        {{ project.last_commit_datetime }} | {{ project.branch_name }}
      </p>
    </app-card>
    }
  </div>

  <h2 class="text-white font-semibold text-2xl mt-8 mb-4">
    Community Projects
  </h2>
  <div class="grid grid-cols-3 gap-6">
    @for(project of CommunityProjects ; track project.deploy_id){
    <app-card class="p-4">
      <h3 class="font-semibold">{{ project.project_name }}</h3>
      <p class="text-sm text-gray-500">{{ project.deployed_url }}</p>
    </app-card>
    }
  </div>
</div> -->
<app-drawer></app-drawer>
<div
  class="flex min-h-screen bg-p5 text-white transition-all duration-300 pb-20"
  [ngClass]="{
    'lg:w-[calc(100vw-320px)] lg:translate-x-80': drawer.isOpen(),
    'w-screen': !drawer.isOpen()
  }"
>
  <div class="flex min-w-0 flex-1 flex-col">
    <header
      class="border-b border-gray-200 bg-gradient-to-l from-neutral-500 to-neutral-300"
    >
      <div class="flex h-16 items-center justify-between px-6">
        <div class="flex items-center gap-3">
          @if(!(this.drawer.isOpen())){
          <img
            (click)="drawer.open()"
            src="/icons/sidebarb.svg"
            alt=""
            class="hidden md:block cursor-pointer size-8"
          />
          }
          <img src="/Logo.png" alt="" class="size-8 block md:hidden" />
          <h1 class="text-lg text-black font-semibold tracking-tight">
            Jett Dashboard
          </h1>
        </div>
        <button
          class="h-10 w-10 rounded-full border border-gray-300 bg-white"
        ></button>
      </div>
    </header>

    <main class="mx-auto w-full max-w-7xl px-6 py-6">
      <div class="flex items-center justify-end">
          <button
            class="inline-flex items-center cursor-pointer gap-2 rounded-2xl bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-neutral-300"
            (click)="createProject()"
          >
            <span
              class="flex h-6 w-6 items-center justify-center"
            >
              <svg
                class="h-4 w-4"
                viewBox="0 0 24 24"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M12 5v14M5 12h14"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            New Project
          </button>
        </div>

      <section
        class="mt-6 rounded-3xl text-white shadow-lg md:p-12"
      >
        <h2
          class="mt-4 text-balance text-3xl font-bold leading-tight md:text-5xl text-p6"
        >
          Hello {{ user.name }}, welcome to Jett
        </h2>
        <p class="mt-4 max-w-3xl text-pretty text-white/90 md:text-lg">
          Unleash your creativity with our comprehensive suite of professional
          design tools and resources.
        </p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a
            href="#"
            class="inline-flex items-center rounded-2xl bg-white px-5 py-2 text-sm font-medium text-gray-900 shadow-sm hover:bg-gray-100"
            >Explore Plans</a
          >
          <a
            href="#"
            class="inline-flex items-center rounded-2xl bg-black/20 px-5 py-2 text-sm font-medium text-white ring-1 ring-white/40 hover:bg-white/10"
            >Take a Tour</a
          >
        </div>
      </section>

      <!-- <h3 class="mt-8 text-2xl font-semibold">Recent Apps</h3>
      <div class="mt-4 grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-3">
        <div class="h-36 rounded-2xl border border-gray-200 bg-white"></div>
        <div class="h-36 rounded-2xl border border-gray-200 bg-white"></div>
        <div class="h-36 rounded-2xl border border-gray-200 bg-white"></div>
      </div> -->

      <section
        id="projects"
        aria-labelledby="recent-apps-title"
        class="px-2 pt-10"
      >
        <header class="mb-4">
          <h2
            id="recent-apps-title"
            class="text-2xl font-semibold text-white text-balance"
          >
            Your Projects
          </h2>
        </header>
        @if(UserProjects.length == 0){
        <h2 class="text-neutral-500 font-semibold text-2xl mb-4 pl-8">
          You have nothing to show.
        </h2>
        <div class="flex items-center justify-start pl-8">
          <button
            class="inline-flex items-center cursor-pointer gap-2 rounded-2xl bg-white px-4 py-2 text-sm font-medium text-black shadow-sm hover:bg-neutral-300"
            (click)="createProject()"
          >
            <span
              class="flex h-6 w-6 items-center justify-center"
            >
              <svg
                class="h-4 w-4"
                viewBox="0 0 24 24"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M12 5v14M5 12h14"
                  stroke="currentColor"
                  stroke-width="1.8"
                  stroke-linecap="round"
                />
              </svg>
            </span>
            New Project
          </button>
        </div>
        }
        <div
          class="media grid gap-6 grid-cols-1 sm680:grid-cols-2 lg:grid-cols-3"
        >
          @for(project of UserProjects ; track project.deploy_id){
          <article
            class="group rounded-3xl border border-gray-200 bg-white p-5 md:p-6 shadow-sm transition-shadow hover:shadow-md"
            aria-label="Project card"
          >
            <header class="flex items-start justify-between gap-3">
              <div class="flex items-center gap-3">
                <div class="min-w-0">
                  <h3
                    class="text-base md:text-lg font-semibold text-gray-900 text-pretty"
                  >
                    {{ project.project_name }}
                  </h3>

                  <p class="mt-0.5 text-xs md:text-sm text-black truncate">
                    https://example.com
                  </p>
                </div>
              </div>

              <button
                type="button"
                class="shrink-0 inline-flex items-center rounded-full border border-gray-200 p-2 text-gray-600 hover:bg-gray-50 hover:text-gray-900 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
                aria-label="Edit project name"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="size-4"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="1.75"
                >
                  <path d="M12 20h9"></path>
                  <path
                    d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"
                  ></path>
                </svg>
              </button>
            </header>

            <div class="mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4">
              <div class="flex items-start gap-3">
                <div
                  class="mt-0.5 rounded-lg bg-gray-100 text-gray-600 p-2"
                  aria-hidden="true"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="size-4"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.75"
                  >
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M3 12h6M15 12h6"></path>
                  </svg>
                </div>
                <div class="min-w-0">
                  <p class="text-xs font-medium text-gray-500">Last commit</p>
                  <p class="text-sm text-gray-700 line-clamp-2">
                    {{ project.last_commit_message }}
                  </p>
                </div>
              </div>

              <div class="flex items-start gap-1">
                <div
                  class="mt-0.5 rounded-lg bg-gray-100 text-gray-600 p-2"
                  aria-hidden="true"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="size-4"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.75"
                  >
                    <path d="M6 3v8a4 4 0 0 0 4 4h5"></path>
                    <circle cx="6" cy="3" r="2"></circle>
                    <circle cx="10" cy="15" r="2"></circle>
                    <circle cx="15" cy="15" r="2"></circle>
                  </svg>
                </div>
                <div class="w-full">
                  <div
                    class="inline-flex items-center justify-start gap-2 w-full bg-white px-1 py-1.5 text-xs md:text-sm text-gray-800 font-medium"
                  >
                    <span
                      class="font-mono w-24 flex items-center justify-around"
                    >
                      {{ project.branch_name }}
                      <div class="bg-gray-400 h-5 w-1 rounded-4xl"></div>
                      {{ project.last_commit_datetime }}
                    </span>
                  </div>
                </div>
              </div>
            </div>

            <footer
              class="mt-5 flex flex-wrap items-center justify-between gap-3"
            >
              <div class="flex items-center gap-2">
                <a
                  class="inline-flex items-center justify-center rounded-full border border-gray-200 bg-gray-50 px-4 py-2 text-sm font-medium text-gray-900 hover:bg-gray-100"
                  href="{{ project.repo_link }}"
                  target="_blank"
                  rel="noopener noreferrer"
                >
                  View repo
                </a>
                <a
                  href="{{ project.deployed_url }}"
                  target="_blank"
                  class="inline-flex items-center justify-center rounded-full bg-gray-900 px-4 py-2 text-sm font-semibold text-white hover:bg-gray-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"
                >
                  Open
                </a>
              </div>
            </footer>
          </article>
          }
        </div>
      </section>
      <section
        id="community"
        aria-labelledby="community-title"
        class="px-2 pt-10"
      >
        <header class="mb-4">
          <h2
            id="community-title"
            class="text-2xl font-semibold text-white text-balance"
          >
            Community Projects
          </h2>
        </header>

        <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          @for(project of CommunityProjects ; track project.deploy_id){
          <article
            class="group w-full max-w-sm overflow-hidden rounded-[1.5rem] border border-neutral-200 bg-white shadow-sm transition-shadow hover:shadow-md"
            aria-label="Design shot card"
          >
            <div class="relative h-52 bg-neutral-900">
              <img
                src="placeholder.jpg"
                alt=""
                class="h-full w-full object-cover"
              />

              <ng-template #placeholder>
                <div class="absolute inset-0 flex items-center justify-center">
                  <svg
                    class="h-36 w-36 text-neutral-200"
                    viewBox="0 0 144 144"
                    fill="none"
                    aria-hidden="true"
                  >
                    <circle
                      cx="72"
                      cy="72"
                      r="56"
                      stroke="currentColor"
                      stroke-width="1"
                    />
                    <circle
                      cx="72"
                      cy="72"
                      r="32"
                      stroke="currentColor"
                      stroke-width="1"
                    />
                    <line
                      x1="72"
                      y1="8"
                      x2="72"
                      y2="136"
                      stroke="currentColor"
                      stroke-width="1"
                    />
                    <line
                      x1="8"
                      y1="72"
                      x2="136"
                      y2="72"
                      stroke="currentColor"
                      stroke-width="1"
                    />
                  </svg>
                  <div
                    class="absolute grid h-10 w-10 place-items-center rounded-full border border-neutral-200 bg-white/80 backdrop-blur"
                    aria-hidden="true"
                  >
                    <svg
                      class="h-5 w-5 text-neutral-500"
                      viewBox="0 0 24 24"
                      fill="none"
                      stroke="currentColor"
                      stroke-width="1.75"
                    >
                      <rect x="3" y="5" width="18" height="14" rx="2" />
                      <path d="M8 13l2.5-2.5 3 3L17 10l3 3" />
                      <circle cx="9" cy="9" r="1.5" fill="currentColor" />
                    </svg>
                    <span class="sr-only">Image placeholder</span>
                  </div>
                </div>
              </ng-template>
            </div>

            <div class="bg-white flex justify-between items-center pr-6">
              <div class="px-5 py-4 md:px-6 md:py-5">
                <h3
                  class="text-base md:text-lg font-semibold leading-tight text-neutral-900 text-pretty"
                >
                  {{ project.project_name }}
                </h3>
                <p class="mt-1 text-sm text-neutral-500">by pussy</p>
              </div>
              <time class="text-sm text-neutral-500">{{
                project.createdAtString
              }}</time>
            </div>
          </article>
          }
        </div>
      </section>
    </main>
  </div>
</div>
